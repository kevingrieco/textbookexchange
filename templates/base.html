{% load static %}
{% load socialaccount %}
{% load bootstrap5 %}


{# Load CSS and JavaScript #}
{% bootstrap_css %}
{% bootstrap_javascript %}

<html>
  <head>
    <link href="{% static 'fontawesomefree/css/fontawesome.css' %}" rel="stylesheet" type="text/css">
    <link href="{% static 'fontawesomefree/css/solid.css' %}" rel="stylesheet" type="text/css">
  </head>
  <nav class="navbar navbar-expand-lg navbar-dark bg-dark text-light">
    <ul class="navbar-nav mr-auto px-3" style="white-space: no-wrap;">
      {% if user.is_authenticated %}
        <li class="nav-item active px-3 d-inline-block" style="white-space: no-wrap;">
          <a href="{% url 'index' %}" class="nav-link" >Home</a></li>
        <li class="nav-item px-3 d-inline-block" style="white-space: no-wrap;">
          <a href="{% url 'direct_messages:inbox' %}" class="nav-link" >Inbox</a>
        </li>
        <li class="nav-item px-3 d-inline-block" style="white-space: no-wrap;">
          <a href="{% url 'post_textbook:choose_department' %}" class="nav-link">Submit Textbook</a>
        </li>
        <li class="nav-item px-3 me-autod-inline-block" style="white-space: no-wrap;">
          <a href="{% url 'user_profile:my_profile' %}" class="nav-link">
            {% if user.socialaccount_set.all %}
            <img src="{{user.socialaccount_set.all.0.extra_data.picture}}" style="width:25%;border-radius:50%;"/>
            {% else %}
            Profile
            {% endif %}
          </a>
        </li>
      {% else %}
        <li class="nav-item px-3 me-auto d-inline-block" style="white-space: no-wrap;">
          <a href="{% url 'index' %}" class="text-decoration-none text-light">Login</a></li>
        </li>
      {% endif %}
    </ul>
  </nav>
<body>
  <div
    class="p-5 text-center bg-image"
    style="
      background-image: url('https://collegeinfogeek.com/wp-content/uploads/2014/11/how-to-read-a-textbook-featured.jpg');
      height: 175px;
    "
  >
    <div class="mask" style="background-color: rgba(0, 0, 0, 0.6); height:fit-content;">
      <div class="d-flex justify-content-center h-100">
        <div class="text-white align-items-center">
          <h1 class="display-3 align-items-center">University of Virginia Textbook Exchange</h1>
          <h7 class="mb-3">Buy and Sell Textbooks for UVA Courses</h7>
        </div>
      </div>
    </div>
  </div>
  <div class="p-5 text-center bg-dark">
    <h6 class="mb-3">  
      {% if user.is_authenticated %}
      <div class="text-light">
      {% block content %} {% endblock content %}
      </div>
      <br>
        <p style="color: #8FD8CA">Welcome, {{ user|title }}. You are logged in!</p>
        <a href="/accounts/logout" style="text-decoration:none;">Logout</a>
      {% elif request.path == "/accounts/google/login/" %}
        {% block login_info %} {% endblock login_info %}
      {% else %}
        <p>Login to get started exchanging your textbooks.</p>
        <a href="{% provider_login_url 'google' %}">Login With Google</a>
      {% endif %}
    </h6>
  </div>
</body>
</html>

